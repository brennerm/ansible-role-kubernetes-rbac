---
- hosts: localhost
  roles:
    - role: ../../ansible-role-kubernetes-rbac
      k8s_roles:
        - name: pod-reader
          namespace: default
          rules:
          - resources: ["pods"]
            verbs: ["get", "watch", "list"]
      k8s_clusterroles:
        - name: secret-reader
          rules:
            - resources: ["secrets"] 
              verbs: ["get", "watch", "list"]
      k8s_rolebindings:
        - name: read-pods
          namespace: default
          users:
          - name: jane
          groups:
          - name: pod-readers
          role: pod-reader
      k8s_clusterrolebindings:
        - name: read-secrets
          users:
            - name: tom
          groups:
            - name: secret-readers
          role: secret-reader
